env:
  TG_TOKEN: "ENCRYPTED[!9aa257cad95736f4897f178d239e8a6b387011bada0192a6c220f8ce4b97234be111be60eb3e5d43f227e2cefa8cc20c!]"
  TG_CHAT_ID: "ENCRYPTED[!4508643dc06e496a5bdef35696637b616238ec9af7111e0efb265d7adbee5a3f5890d487225ccdb1d259b189cf5a567d!]"
  RBE_API_KEY: "ENCRYPTED[!b653b4ecbefa880548075b5b5bad9cda5ef36423cd87d32163910a9599a500dd447133acfcb78bbe8f4e92315c27defd!]"
  GITHUB_TOKEN: "ENCRYPTED[!7e2f6c972d796f300f680d14570b597514746b69c84bfbaed5e0291b3e16b5a5e57baba7d1a039fdb8011c55cf140ed7!]"
 
task:
  name: "Build Vanadium"
  timeout_in: 120m
  container:
    image: ghcr.io/rovars/docker:chromium
    cpu: 8
    memory: 32G
    greedy: true

  build_script:
    - rm -rf .git
    - /opt/cirrus_env --started
    - git clone -q https://rovars:${GITHUB_TOKEN}@github.com/rovars/rom xx
    - chmod +x build.sh
    - ./build.sh
